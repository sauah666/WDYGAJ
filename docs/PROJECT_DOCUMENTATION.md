# üìò PROJECT DOCUMENTATION ‚Äî v1.6

**–ü—Ä–æ–µ–∫—Ç:** Agent-based Job Search Automation  
**–ê—É–¥–∏—Ç–æ—Ä–∏—è:** LLM-–∞–≥–µ–Ω—Ç-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (Gemini / GPT / Claude)  
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞  
**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ä–µ–∂–∏–º:** slow-iteration, 1 step = 1 prompt  

---

## CANONICAL MASTER PLAN v1.0

MASTER PLAN v1.0 ‚Äî JobSearch Agent (Mode 1: HH.ru, –∑–∞—Ç–µ–º –º—É–ª—å—Ç–∏—Å–∞–π—Ç)

0) –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
0.1 –¶–µ–ª—å –ø—Ä–æ–¥—É–∫—Ç–∞ (–∫–æ–Ω–µ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
–ê–≥–µ–Ω—Ç —Å —Ä–µ–∂–∏–º–∞–º–∏. –†–µ–∂–∏–º 1: –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç—ã –Ω–∞ —Å–∞–π—Ç–µ (—Ç–µ—Å—Ç–æ–≤—ã–π: hh.ru) —Å UI-–≤—ã–±–æ—Ä–æ–º —Å–∞–π—Ç–∞, –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–≥–æ –ª–æ–≥–∏–Ω–∞ ‚Äî –ø–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:
- –ø—Ä–æ—Ñ–∏–ª—å —á–∏—Ç–∞–µ—Ç—Å—è –∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ (—Å reset),
- LLM –æ–¥–∏–Ω —Ä–∞–∑ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥ (RU/EN —Ç–∏—Ç—É–ª—ã, —É—Ä–æ–≤–Ω–∏, —Ç–∏–ø—ã —Ä–æ–ª–µ–π, –≤–µ—Å–∞ –º–∞—Ç—á–µ–π),
- –∞–≥–µ–Ω—Ç —Å–Ω–∏–º–∞–µ—Ç DOM –ø–æ–∏—Å–∫–∞, LLM –æ–¥–∏–Ω —Ä–∞–∑ —Å—Ç—Ä–æ–∏—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É —Ñ–∏–ª—å—Ç—Ä–æ–≤,
- –∞–≥–µ–Ω—Ç –æ–¥–∏–Ω —Ä–∞–∑ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –∏ —Å–∞–º –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫,
- –≤–∞–∫–∞–Ω—Å–∏–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –±–∞—Ç—á–∞–º–∏ 10‚Äì15 –∏ –æ—Ü–µ–Ω–∏–≤–∞—é—Ç—Å—è LLM –±–∞—Ç—á–∞–º–∏,
- —Ç–µ–∫—Å—Ç –≤–∞–∫–∞–Ω—Å–∏–π —á–∏—Ç–∞–µ—Ç—Å—è —á–∞—Å—Ç–∏—á–Ω–æ: —Ç–æ–ª—å–∫–æ —É—Å–ª–æ–≤–∏—è/—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è/—Ñ–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã,
- –ø—Ä–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∞–≥–µ–Ω—Ç —Å–∞–º –æ—Ç–∫–ª–∏–∫–∞–µ—Ç—Å—è, –≤—Å—Ç–∞–≤–ª—è—è —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ,
- –µ—Å–ª–∏ –∞–Ω–∫–µ—Ç—ã/–≤–æ–ø—Ä–æ—Å—ã ‚Äî DOM-—Å–∫–∞–Ω ‚Üí LLM –≥–µ–Ω–µ—Ä–∏—Ç –æ—Ç–≤–µ—Ç—ã —Å—Ç—Ä–æ–≥–æ –ø–æ –ø—Ä–æ—Ñ–∏–ª—é ‚Üí –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞,
- —Ä–µ—Ç—Ä–∞–∏ 3√ó, –∏–Ω–∞—á–µ —Å–∫—Ä—ã—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é,
- –ø–∞–º—è—Ç—å: —Å–∞–π—Ç—ã, DOM-—Å–Ω–∏–º–∫–∏, –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏, dedup –ø–æ –≥–æ—Ä–æ–¥–∞–º (–≤—ã–±–∏—Ä–∞–µ–º –≥–æ—Ä–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è),
- –∫–æ–Ω—Ñ–∏–≥ LLM: cloud API / local LLM, –∫–ª—é—á–∏ –≤ env, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞, reset,
- –ª–æ–≥ –ø–æ—Å–ª–µ —Å–µ—Å—Å–∏–∏: input tokens, cache hit/miss, output tokens, –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π pruning/compaction, –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –æ–∫–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

0.2 –ü—Ä–æ—Ü–µ—Å—Å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (–±–µ–∑ –Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–∞–ª–∏—Ç—Å—è –ø–æ—Å–ª–µ reset)
- 1 —ç—Ç–∞–ø = 1 –∑–∞–¥–∞—á–∞ = EXECUTE + VERIFY
- –ü–æ—Å–ª–µ PASS: –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (–∏–Ω–∞—á–µ PASS —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º)
- –ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å: ProfileSnapshot, TargetingSpec, SearchUISpec, SearchApplyPlan
- ResetSession ‚â† ResetProfile ‚â† ResetPrefs ‚â† ResetLLMConfig
- LLM ‚Äî —Ä–µ–¥–∫–∏–π —ç–∫—Å–ø–µ—Ä—Ç: –Ω–∏–∫–∞–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äú–ø–æ –æ–¥–Ω–æ–π –≤–∞–∫–∞–Ω—Å–∏–∏‚Äù
- –ë–∞—Ç—á–∏: 10‚Äì15 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∫–∞—Ä—Ç–æ—á–∫–∏ / –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã)

1) –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–æ—á–∫–∞ ‚Äú—á—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ‚Äù (DONE)
–ù–∏–∂–µ ‚Äî —Å—Ç—Ä–æ–≥–æ —Ñ–∞–∫—Ç, –±–µ–∑ ‚Äú–ø–ª–∞–Ω–∏—Ä—É–µ–º‚Äù.
‚úÖ Done-1: Skeleton (Clean Architecture)
–°–ª–æ–∏: Domain / UseCases / Ports / Adapters / Frameworks.
–ü–æ—Ä—Ç—ã: BrowserPort, StoragePort, UIPort, LLMProviderPort.
‚úÖ Done-2: Human Login Gate + Session Persist
- –†—É—á–Ω–æ–π –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Å—Å–∏–∏
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- ResetSession
‚úÖ Done-3: CaptureProfileOnce
- ProfileSnapshot: –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ ‚Üí hash
- ‚Äú–ß–∏—Ç–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å –æ–¥–∏–Ω —Ä–∞–∑‚Äù + ResetProfile
‚úÖ Done-4: DeriveTargetingFromProfile (1√ó LLM)
- –°—Ç—Ä–æ–≥–∏–µ LLM-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
- –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ LLM ‚Üí TargetingSpec (–∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥: –ø—Ä–∏ ResetSession –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å LLM –ø–æ–≤—Ç–æ—Ä–Ω–æ, –µ—Å–ª–∏ TargetingSpec —É–∂–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω
‚úÖ Done-5: Search UI Discovery & Configuration (–±–µ–∑ –ø–æ–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π)
- 5.2.1 AutoNavigateToSearch ‚Äî –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –∞–≥–µ–Ω—Ç —Å–∞–º –∏–¥—ë—Ç –∫ –ø–æ–∏—Å–∫—É
- 5.2.2 SearchDOMSnapshotV1 ‚Äî —Å–Ω—è—Ç–∏–µ DOM-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–æ—Ä–º—ã –ø–æ–∏—Å–∫–∞
- 5.2.3 (1√ó LLM) DOM ‚Üí SearchUISpecV1 (—Å–µ–º–∞–Ω—Ç–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤)
- 5.3 AskUserExtraFiltersOnce ‚Äî –≤–æ–ø—Ä–æ—Å—ã –æ–¥–∏–Ω —Ä–∞–∑ ‚Üí UserSearchPrefs
- 5.4 BuildApplySearchPlan ‚Äî –ø–ª–∞–Ω –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ
‚úÖ Done-A1.1: ExecuteApplyPlan Step-by-Step
- –†—É—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —à–∞–≥–æ–≤ –ø–ª–∞–Ω–∞
- AppliedFiltersSnapshotV1 –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞

2) MASTER PLAN ‚Äî –æ—Ç ‚Äú—Å–µ–π—á–∞—Å‚Äù –¥–æ ‚Äú—Ñ–∏–Ω–∏—à–∞‚Äù
PHASE A ‚Äî Execution of Search (–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤)
A1. ExecuteApplyPlan (–∫–ª–∏–∫–∏ –ø–æ –ø–ª–∞–Ω—É)
- –í—Ö–æ–¥: SearchApplyPlanV1 + SearchUISpecV1
- –î–µ–π—Å—Ç–≤–∏–µ: –∞–≥–µ–Ω—Ç –∫–ª–∏–∫–∞–µ—Ç/–≤—ã–±–∏—Ä–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –≤ UI –ø–æ–∏—Å–∫–∞
- –í—ã—Ö–æ–¥: AppliedFiltersSnapshotV1 (—á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ)
A2. VerifyFiltersApplied (–±–µ–∑ LLM)
- –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Ñ–∏–ª—å—Ç—Ä—ã —Ä–µ–∞–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- –ï—Å–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–ª–æ: 3 –ø–æ–ø—ã—Ç–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ ‚Üí error –∏ –æ—Å—Ç–∞–Ω–æ–≤

PHASE B ‚Äî Vacancy Listing (–∫–∞—Ä—Ç–æ—á–∫–∏ –≤–∞–∫–∞–Ω—Å–∏–π)
B1. CollectVacancyCardsBatch
- –°–æ–±—Ä–∞—Ç—å 10‚Äì15 –∫–∞—Ä—Ç–æ—á–µ–∫: title, company, city, work_mode (–µ—Å–ª–∏ –≤–∏–¥–Ω–æ), salary (–µ—Å–ª–∏ –≤–∏–¥–Ω–æ), url/id
B2. Dedup & City Preference
- –ù–∞–π—Ç–∏ –¥—É–±–ª–∏ –∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ –≥–æ—Ä–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–∞–º—è—Ç—å ‚Äúseen‚Äù –≤–∞–∫–∞–Ω—Å–∏–π

PHASE C ‚Äî Pre-Screen (LLM –±–∞—Ç—á –ø–æ –∫–∞—Ä—Ç–æ—á–∫–∞–º)
C1. Script PreFilter (–±–µ–∑ LLM)
- –∑–∞—Ä–ø–ª–∞—Ç–∞: –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞ –∏ < min ‚Üí reject
- work_mode: –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç ‚Üí reject
- title matching –ø–æ TargetingSpec: –≤—ã—á–∏—Å–ª–∏—Ç—å score
C2. LLM Batch Screening (10‚Äì15 –∫–∞—Ä—Ç–æ—á–µ–∫ ‚Üí 1 –∑–∞–ø—Ä–æ—Å)
- –í—ã—Ö–æ–¥: read/defer/ignore + –ø—Ä–∏—á–∏–Ω—ã + –ø–æ—Ä–æ–≥–∏

PHASE D ‚Äî Deep Read (–∏–∑–≤–ª–µ—á—å —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ –∫—É—Å–∫–∏ —Ç–µ–∫—Å—Ç–∞)
D1. OpenVacancy & ExtractRelevantSections (script)
- –¢–æ–ª—å–∫–æ —É—Å–ª–æ–≤–∏—è/—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è/–æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏/–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
D2. LLM Batch Evaluation (10‚Äì15 –∏–∑–≤–ª–µ—á–µ–Ω–∏–π ‚Üí 1 –∑–∞–ø—Ä–æ—Å)
- apply_yes/apply_no + red flags

PHASE E ‚Äî Auto Apply (–æ—Ç–∫–ª–∏–∫–∏)
E1. Apply With Cover Letter (script)
- –ù–∞–∂–∞—Ç—å ‚Äú–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è‚Äù, –≤—Å—Ç–∞–≤–∏—Ç—å —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å
E2. Questionnaire Handling (DOM ‚Üí LLM ‚Üí Fill)
- –û—Ç–≤–µ—Ç—ã —Å—Ç—Ä–æ–≥–æ –ø–æ ProfileSnapshot, –±–µ–∑ –≤—ã–¥—É–º–æ–∫
E3. Retry & Failover
- 3 —Ä–µ—Ç—Ä–∞—è, –∏–Ω–∞—á–µ hide vacancy

PHASE F ‚Äî Memory, Resilience, DOM Drift
F1. DOM Drift Detection (diff snapshots) + –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ mappings
F2. Site Memory (multi-site ready) + UI –≤—ã–±–æ—Ä —Å–∞–π—Ç–∞

PHASE G ‚Äî LLM Config, Token Telemetry, Compaction
G1. LLM Provider Registry (cloud/local) + env keys + reset
G2. Token Ledger per Session (input/output/cache hit/miss)
G3. Pruning/Compaction + –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç + –±–∞—Ç—á–∏–Ω–≥ 10‚Äì15

3) –ö–æ–Ω–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞ (Definition of Done)
–ü—Ä–æ–µ–∫—Ç ‚Äú—Å–¥–µ–ª–∞–Ω‚Äù, –∫–æ–≥–¥–∞ –Ω–∞ hh.ru –∞–≥–µ–Ω—Ç –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–≥–æ –ª–æ–≥–∏–Ω–∞:
- –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã,
- –∏—â–µ—Ç –≤–∞–∫–∞–Ω—Å–∏–∏,
- –æ—Ç–±–∏—Ä–∞–µ—Ç –±–∞—Ç—á–∞–º–∏,
- —á–∏—Ç–∞–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã,
- –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–∫–ª–∏–∫–∏,
- –∑–∞–ø–æ–ª–Ω—è–µ—Ç –∞–Ω–∫–µ—Ç—ã,
- –≤–µ–¥—ë—Ç –ø–∞–º—è—Ç—å seen/dedup/city,
- –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç LLM –ª–∏—à–Ω–∏–π —Ä–∞–∑,
- –¥–∞—ë—Ç —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é —Ç–æ–∫–µ–Ω–æ–≤.
UI: –≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞/—Å–∞–π—Ç–∞/–Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ reset‚Äô–æ–≤.
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–æ–≤–æ–º—É –∞–≥–µ–Ω—Ç—É –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±–µ–∑ –∏—Å—Ç–æ—Ä–∏–∏.

4) –¢–µ–∫—É—â–∞—è —Ç–æ—á–∫–∞
–ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π —ç—Ç–∞–ø: PHASE A1.1 ‚Äî APPLY_PLAN_STEP_EXECUTION (ONE STEP)
–¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø: PHASE A1.2 ‚Äî APPLY_SEARCH_PLAN (ALL STEPS)
–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø: PHASE A2.1 ‚Äî VERIFY FILTERS

---

## Progress Update ‚Äî PHASE A1.2

### WHAT WAS ADDED
*   **UseCase:** `executeApplyPlanCycle` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ü–∏–∫–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —à–∞–≥–æ–≤ –ø–ª–∞–Ω–∞.
*   **Retry Logic:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–≤—Ç–æ—Ä (–¥–æ 3 —Ä–∞–∑) –¥–ª—è —É–ø–∞–≤—à–∏—Ö —à–∞–≥–æ–≤.
*   **Snapshot:** –î–æ–±–∞–≤–ª–µ–Ω `overallStatus` (IN_PROGRESS / COMPLETED / FAILED).
*   **UI:** –ö–Ω–æ–ø–∫–∞ "AUTO-EXECUTE PLAN" –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞.

### WHY
–†—É—á–Ω–æ–µ –ø—Ä–æ–∫–ª–∏–∫–∏–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –Ω–µ—É–¥–æ–±–Ω–æ. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≥–µ–Ω—Ç—É —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ —Ñ–æ—Ä–º—É –ø–æ–∏—Å–∫–∞ –≤ –Ω—É–∂–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—è –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–±–æ–∏ (—á–µ—Ä–µ–∑ retry).

### CONSTRAINTS
*   –¶–∏–∫–ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.
*   –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ (Resumable).
*   –ï—Å–ª–∏ —à–∞–≥ –ø–∞–¥–∞–µ—Ç 3 —Ä–∞–∑–∞ –ø–æ–¥—Ä—è–¥ ‚Äî —Å–µ—Å—Å–∏—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è (Safety).

### NOTES / RISKS
*   –°–µ–π—á–∞—Å –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—Ö–∞ —à–∞–≥–∞ (`applyControlAction`) –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è (Mock). –í —Ä–µ–∞–ª—å–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å DOM-—ç—Ñ—Ñ–µ–∫—Ç.
*   –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (`SEARCH_READY`) —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Ü–∏–∫–ª–∞.
