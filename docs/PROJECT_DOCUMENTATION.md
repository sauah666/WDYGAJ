# üìò PROJECT DOCUMENTATION ‚Äî v1

**–ü—Ä–æ–µ–∫—Ç:** Agent-based Job Search Automation  
**–ê—É–¥–∏—Ç–æ—Ä–∏—è:** LLM-–∞–≥–µ–Ω—Ç-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (Gemini / GPT / Claude)  
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞  
**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ä–µ–∂–∏–º:** slow-iteration, 1 step = 1 prompt  

---

## 1. –¶–ï–õ–¨ –ü–†–û–ï–ö–¢–ê

–°–æ–∑–¥–∞—Ç—å –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π:
*   –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–≥–æ –ª–æ–≥–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
*   –î–∞–ª–µ–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–µ–Ω.

**–£–º–µ–µ—Ç:**
1.  –ß–∏—Ç–∞—Ç—å –∏ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–¥–∏–Ω —Ä–∞–∑).
2.  –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ LLM (–æ–¥–∏–Ω —Ä–∞–∑).
3.  –ò–∑—É—á–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π (DOM).
4.  –ó–∞–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–æ–ø—Ä–æ—Å—ã –≤ —á–∞—Ç–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã —É—Ç–æ—á–Ω–µ–Ω–∏—è –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º).
5.  –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫.
6.  –ò—Å–∫–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏–∏ –±–∞—Ç—á–∞–º–∏.
7.  –û—Ü–µ–Ω–∏–≤–∞—Ç—å –∏—Ö —á–µ—Ä–µ–∑ LLM.
8.  –û—Ç–∫–ª–∏–∫–∞—Ç—å—Å—è, –≤–∫–ª—é—á–∞—è –∞–Ω–∫–µ—Ç—ã.

**–ü—Ä–∏ —ç—Ç–æ–º:**
*   –≠–∫–æ–Ω–æ–º–∏—Ç —Ç–æ–∫–µ–Ω—ã.
*   –ò–∑–±–µ–≥–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö LLM-–≤—ã–∑–æ–≤–æ–≤.
*   –£—Å—Ç–æ–π—á–∏–≤ –∫ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º.
*   –ü–µ—Ä–µ–Ω–æ—Å–∏–º –Ω–∞ –¥—Ä—É–≥–∏–µ —Å–∞–π—Ç—ã.

---

## 2. –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø –†–ê–ó–†–ê–ë–û–¢–ö–ò (–ö–†–ò–¢–ò–ß–ù–û)

### 2.1. Slow Iteration Protocol
*   **–ö–∞–∂–¥—ã–π —ç—Ç–∞–ø:** 1 –∑–∞–¥–∞—á–∞.
*   **–¶–∏–∫–ª:** 1 EXECUTE prompt -> 1 VERIFY prompt.
*   **–§–∏–Ω–∏—à:** –≠—Ç–∞–ø —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–µ—Ä–¥–∏–∫—Ç–µ `PASS`.
*   **–û—à–∏–±–∫–∏:** –õ—é–±–∞—è –Ω–∞–π–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ ‚Üí —Ñ–∏–∫—Å ‚Üí –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è.
*   **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –ü–æ—Å–ª–µ PASS ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (Rule D-01).

### 2.2. –ó–∞–ø—Ä–µ—Ç—ã (–∂—ë—Å—Ç–∫–∏–µ)
‚ùå **–ù–µ–ª—å–∑—è:**
*   –°–º–µ—à–∏–≤–∞—Ç—å —ç—Ç–∞–ø—ã.
*   –í—ã–∑—ã–≤–∞—Ç—å LLM –ø–æ–≤—Ç–æ—Ä–Ω–æ ‚Äú–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π‚Äù.
*   –¢–∞—â–∏—Ç—å DOM-–ª–æ–≥–∏–∫—É –≤ Domain.
*   –î–µ–ª–∞—Ç—å –∫–ª–∏–∫–∏ –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è Apply-–ø–ª–∞–Ω–∞.
*   –•—Ä–∞–Ω–∏—Ç—å ‚Äú—Å–∫—Ä—ã—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ‚Äù –≤–Ω–µ Storage.

---

## 3. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê (CLEAN ARCHITECTURE)

### 3.1. –°–ª–æ–∏

1.  **Domain** (`core/domain`)
    *   –ß–∏—Å—Ç—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏.
    *   –°–æ—Å—Ç–æ—è–Ω–∏—è (`AgentState`).
    *   –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–∞–Ω–Ω—ã—Ö (`TargetingSpecV1`).
    *   *–ù–∏–∫–∞–∫–∏—Ö UI / Browser / LLM –¥–µ—Ç–∞–ª–µ–π.*

2.  **UseCases** (`core/usecases`)
    *   –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π.
    *   –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π.
    *   –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏.

3.  **Ports** (`core/ports`)
    *   `BrowserPort`
    *   `StoragePort`
    *   `UIPort`
    *   `LLMProviderPort`

4.  **Adapters** (`adapters/`)
    *   –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤.
    *   –ë—Ä–∞—É–∑–µ—Ä (Mock/Puppeteer).
    *   UI (React Presenter).
    *   –•—Ä–∞–Ω–∏–ª–∏—â–µ (LocalStorage).
    *   LLM API / Mock.

---

## 4. –¢–ï–ö–£–©–ò–ô –ü–†–û–ì–†–ï–°–° –ü–û –≠–¢–ê–ü–ê–ú

### ‚úÖ –≠—Ç–∞–ø 1 ‚Äî Skeleton
*   **–°–æ–∑–¥–∞–Ω–æ:** –ë–∞–∑–æ–≤–∞—è Clean Architecture, UI skeleton, Ports.
*   **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª `UIPort` –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø–æ—Ä—Ç.
*   **–£—Ä–æ–∫:** UI ‚Äî —Ç–∞–∫–æ–π –∂–µ —É—á–∞—Å—Ç–Ω–∏–∫ —Å–∏—Å—Ç–µ–º—ã, –∫–∞–∫ Browser. –ë–µ–∑ –Ω–µ–≥–æ –ª–æ–º–∞–µ—Ç—Å—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è.

### ‚úÖ –≠—Ç–∞–ø 2 ‚Äî Human Login Gate
*   **–°–æ–∑–¥–∞–Ω–æ:** –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–∏, —Ä—É—á–Ω–æ–π –ª–æ–≥–∏–Ω –∫–∞–∫ hard gate, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏.
*   **–ü—Ä–∏–Ω—Ü–∏–ø:** –ß–µ–ª–æ–≤–µ–∫ –≤–≤–æ–¥–∏—Ç –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –æ–¥–∏–Ω —Ä–∞–∑, –¥–∞–ª—å—à–µ –∞–≥–µ–Ω—Ç –∞–≤—Ç–æ–Ω–æ–º–µ–Ω.

### ‚úÖ –≠—Ç–∞–ø 3 ‚Äî CaptureProfileOnce
*   **–°–æ–∑–¥–∞–Ω–æ:** `ProfileSnapshot`, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞, —Ö—ç—à –ø—Ä–æ—Ñ–∏–ª—è, `resetProfile`.
*   **–ü—Ä–∏–Ω—Ü–∏–ø:** –ü—Ä–æ—Ñ–∏–ª—å ‚Äî –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã, –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–Ω–æ –Ω–µ —Å–±—Ä–æ—Å–∏—Ç.

### ‚úÖ –≠—Ç–∞–ø 4 ‚Äî DeriveTargetingFromProfile
*   **–°–æ–∑–¥–∞–Ω–æ:** –°—Ç—Ä–æ–≥–∏–µ LLM-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –µ–¥–∏–Ω–∏—á–Ω—ã–π LLM-–≤—ã–∑–æ–≤, `TargetingSpec`.
*   **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –ü—Ä–∏ `ResetSession` LLM –≤—ã–∑—ã–≤–∞–ª—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ.
*   **–†–µ—à–µ–Ω–∏–µ:** –ï—Å–ª–∏ `TargetingSpec` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí —Å—Ä–∞–∑—É `TARGETING_READY`.
*   **–£—Ä–æ–∫:** `ResetSession` ‚â† `ResetProfile`. –≠—Ç–æ —Ä–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ —Å–±—Ä–æ—Å–∞.

### üöß –≠—Ç–∞–ø 5 ‚Äî DiscoverSearchUI (–í –†–ê–ë–û–¢–ï)
*   **–°—Ç–∞—Ç—É—Å:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ-–Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (5.2.1).
*   **–ü–æ–¥—Ö–æ–¥:**
    *   –ü–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –∏ —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥–∞ –∞–≥–µ–Ω—Ç —Å–∞–º –Ω–∞–≤–∏–≥–∏—Ä—É–µ—Ç—Å—è –∫ –ø–æ–∏—Å–∫—É.
    *   –°–Ω–∏–º–∞–µ—Ç DOM.
    *   –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤.
    *   –ó–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ).
    *   –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É.
*   **–¢–µ–∫—É—â–∏–π —à–∞–≥:** Wiring UI & Logic (5.2.2).

---

## 5. –ö–õ–Æ–ß–ï–í–´–ï –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –ü–†–ò–ù–¶–ò–ü–´

1.  **Immutability by default:** –ü—Ä–æ—Ñ–∏–ª—å, TargetingSpec, SearchUISpec ‚Äî –Ω–µ –º–µ–Ω—è—é—Ç—Å—è –±–µ–∑ —è–≤–Ω–æ–≥–æ reset.
2.  **Plan ‚Üí Execute separation:** –°–Ω–∞—á–∞–ª–∞ –∞–Ω–∞–ª–∏–∑/–ø–ª–∞–Ω, –ø–æ—Ç–æ–º –∫–ª–∏–∫–∏.
3.  **LLM ‚Äî –¥–æ—Ä–æ–≥–æ–π —ç–∫—Å–ø–µ—Ä—Ç:** –ë–∞—Ç—á–∏, —Å—Ç—Ä–æ–≥–æ –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º, –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–æ–≤.
4.  **DOM = –¥–∞–Ω–Ω—ã–µ, –Ω–µ –ª–æ–≥–∏–∫–∞:** DOM-—Å–Ω–∏–º–æ–∫ ‚Üí –≤ LLM ‚Üí –ø—Ä–∞–≤–∏–ª–∞ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è.

---

## 6. –ê–ù–¢–ò-–ü–ê–¢–¢–ï–†–ù–´ (–£–ñ–ï –ü–û–ô–ú–ê–ù–ù–´–ï)
‚ùå –ü–æ–≤—Ç–æ—Ä–Ω—ã–π LLM-–≤—ã–∑–æ–≤ –Ω–∞ —Ç–µ—Ö –∂–µ –¥–∞–Ω–Ω—ã—Ö.
‚ùå –°–º–µ—à–∏–≤–∞–Ω–∏–µ `resetSession` –∏ `resetProfile`.
‚ùå –†—É—á–Ω—ã–µ ‚Äú–∫–≤–µ—Å—Ç—ã‚Äù –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ (–∫—Ä–æ–º–µ —Å–∞–º–æ–≥–æ –ª–æ–≥–∏–Ω–∞).
‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–ª–∏–∫–∏ –±–µ–∑ –ø–ª–∞–Ω–∞.
‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏.

---

## 7. –ö–ê–ö –ù–û–í–û–ú–£ –ê–ì–ï–ù–¢–£ –í–û–ô–¢–ò –í –ü–†–û–ï–ö–¢
1.  –ü—Ä–æ—á–∏—Ç–∞—Ç—å —ç—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.
2.  –ü–æ–Ω—è—Ç—å, –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ –ø—Ä–æ–µ–∫—Ç (—Å–º. `docs/DEV_CONTEXT.md`).
3.  –°–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—É: **1 —ç—Ç–∞–ø = 1 –∑–∞–¥–∞—á–∞ = 1 prompt + verify**.
4.  –ù–∏–∫–æ–≥–¥–∞ –Ω–µ ‚Äú—É–ª—É—á—à–∞—Ç—å —Å—Ä–∞–∑—É‚Äù.
5.  –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ PASS ‚Äî –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.
