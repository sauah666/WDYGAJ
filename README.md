
# Кузница Кадров (AgentSeeker)

Архитектурный скелет мульти-режимного автономного агента для поиска работы.
Проект построен на принципах **Clean Architecture** с жестким разделением слоев, строгим управлением состоянием и индустриальной эстетикой.

## Ключевые Особенности

*   **Автономный Цикл**: Агент самостоятельно анализирует профиль, строит стратегию поиска, фильтрует вакансии и отправляет отклики.
*   **Гибридная Среда**: Работает как в веб-режиме (Mock/Simulation), так и как десктопное приложение (Electron/Playwright).
*   **Устойчивость (Resilience)**: Детекция дрейфа DOM, автоматические повторы, стратегии "Failover".
*   **Управление Ресурсами**: "Умное" сжатие контекста (LLM Context Pruning & Compaction) для экономии токенов.
*   **Ротация Контекста**: Автоматический переход к следующей роли/поисковому запросу после завершения текущего батча.
*   **Режим Амнезии**: Возможность "забыть" историю просмотров и откликов для перезапуска цикла.
*   **Индустриальный Дизайн**: Интерфейс в стиле "Ржавый Киберпанк" с голосовым/текстовым помощником "Валера".
*   **Генератор Сопроводительных Писем**: Режим авто-генерации (Auto-Cover Letter) с возможностью сброса и регенерации.
*   **Выбор Резюме**: Поддержка выбора конкретного резюме из списка на целевом сайте.

## Поддержка Технологий

### AI / LLM Providers
*   **Google Gemini** (Native Integration)
*   **OpenAI GPT-4**
*   **DeepSeek V3** (Cloud)
*   **Local LLM** (Ollama / LM Studio через OpenAI-compatible API)
*   **Mock Mode** (Симуляция для разработки без затрат)

### Browser Engines
*   **Electron / Playwright** (Native Desktop App) - Полный контроль над браузером.
*   **MCP Client** (Model Context Protocol) - Подключение к внешним серверам автоматизации.
*   **Remote Runner** (Управление удаленным браузером через HTTP).
*   **Mock Browser** (Виртуальная среда для UI-тестов).

## Структура Проекта

*   **core/domain**: Бизнес-логика, сущности, контракты (чистый TS, без зависимостей).
*   **core/usecases**: Сценарии использования, оркестрация потоков данных.
*   **core/ports**: Интерфейсы для взаимодействия с внешним миром (Inversion of Control).
*   **adapters**: Реализация портов (ElectronIPC, McpClient, MockBrowser, LocalStorage, MockLLM/Gemini/OpenAI, ReactPresenter).
*   **presentation**: React-компоненты (View), зависят только от Presenter.
*   **electron**: Main Process логика для десктопной сборки.

## Запуск

### Web Mode (Simulation)
Для быстрой проверки UI без установки зависимостей Playwright.
1. Запустить локальный сервер (например, `python3 -m http.server` или `live-server`).
2. Открыть `index.html`.

### Electron Mode (Full Power)
Для реальной работы с браузером.
1. `npm install`
2. `npx playwright install chromium`
3. `npm start`

> ⚠️ **Troubleshooting**: Если возникают ошибки с запуском Electron или Playwright, см. [MANUAL_ACTIONS_REQUIRED.md](docs/MANUAL_ACTIONS_REQUIRED.md).

## Текущий Статус

**Release Candidate 1.4 (Infrastructure & Stability)**
Система поддерживает Electron и MCP. Исправлены критические баги отображения (Orb Visibility) и логики конвейера (Pipeline Stall). Реализован выбор резюме и сброс универсального письма.

Подробности для разработки:
- `docs/ARCHITECTURE.md` - Техническое устройство и архитектурные решения.
- `docs/DESIGN_AND_UX.md` - Гайдлайн по дизайну и пользовательским сценариям.
- `docs/DEV_CONTEXT.md` - Текущий контекст разработки ("Save Game").
